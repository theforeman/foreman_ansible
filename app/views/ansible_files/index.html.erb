<% title _("Ansible Files") %>

<% title_actions  link_to(_("Back to Ansible Roles"), ansible_roles_path, :class => "btn btn-default") %>

<table class="<%= table_css_classes 'table-fixed' %>">
  <thead>
    <tr>
      <th class="col-md-3"><%= sort :name, :as => s_("File|Name") %></th>
      <th class="col-md-1"><%= _("Actions") %></th>
    </tr>
  </thead>
  <tbody>
    <% for file in @ansible_files %>
      <tr>
        <td class="ellipsis"><%= link_to_if_authorized(file.name, hash_for_edit_ansible_file_path(:id => file.id)) %></td>
        <td>
          <%
            links = [display_delete_if_authorized(hash_for_ansible_file_path(:id => file).merge(:auth_object => file, :authorizer => authorizer),
                      :data => { :confirm => _("Delete %s?") % "#{file.dir}/#{file.name}" }, :action => :delete)]
          %>
          <%= action_buttons(*links) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate_with_info @ansible_files %>
